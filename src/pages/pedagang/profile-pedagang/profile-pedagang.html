<!--
  Generated template for the ProfilePedagang page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle color="light">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Portal Harga</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
	</ion-navbar>
	
</ion-header>


<ion-content>
	<div padding-top text-center>
    <div class="profilePict">
	    <img src="assets/icon/user.png" *ngIf="!profilePicture">
		  <img [src]="profilePicture" *ngIf="profilePicture">
    </div>
	    <h2>{{nama}}</h2>
	    <button ion-button outline color="primary" (click)="editProfile()" >
			Edit profile
		</button>
		<button ion-button outline color="primary" (click)="logout()" >
			Logout
		</button> 
	 </div>
   <h5 padding-left>Daganganku</h5>
			<ion-card *ngFor="let data of jualanku">
        <ion-row>
					<ion-col text-left>
						<ion-card-header no-padding>
								<div ion-item>
									<ion-avatar item-left>
											<img src="assets/icon/user.png" *ngIf="!data.user_picture">
											<img [src]="data.user_picture" *ngIf="data.user_picture">
									</ion-avatar>
									<h6>{{data.nama}}</h6>
									<h6 color="primary">{{data.nama_komoditas}}</h6>
									<p><small>{{data.time}} {{data.time!='now'?'ago':''}}</small></p>  
								</div>
								</ion-card-header>
					</ion-col>
					<ion-col text-right *ngIf="data.user_id==user_id">
						<button ion-button clear small  color="primary" (click)="presentActionSheetDagangan(data)">
									<ion-icon name='more'></ion-icon>
								</button>
					</ion-col>
				</ion-row>
	    	<ion-row padding-left>
          <ion-col>
            <h5>{{formatCurrency(data.harga,'Rp.')}} /{{data.satuan_komoditas}}</h5>
          </ion-col>
          <ion-col>
            <h5>Stok: {{data.stok}} {{data.satuan_komoditas}}</h5>
          </ion-col>
        </ion-row>
    		<img [src]="data.picture" *ngIf="data.picture">
    		<h6 padding>{{data.keterangan}}</h6>
				<ion-card-content class="outer-content">
					<ion-row>
						<h6>
							<small><ion-icon name='call'> </ion-icon>
							{{data.user_nomor_telepon}}</small>
						</h6>
					</ion-row>
					<ion-row>
						<h6>
							<small><ion-icon name='pin'> </ion-icon>
							{{data.address}}</small>
						</h6>
					</ion-row>
				</ion-card-content>
    	</ion-card>
</ion-content>
