<!--
  Generated template for the ProfileEdit page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Edit profile</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="primary" (click)="onUpdate(updateForm)">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<div padding-top text-center *ngIf="profile.picture">
	    <img [src]="profile.picture" alt="avatar">
	    <h5 (click)="updatePicture()">Change Photo</h5>
	</div>
	<form #updateForm="ngForm" novalidate>
		<ion-list no-lines>
			<ion-item>
				<ion-label stacked color="primary">Nama Lengkap</ion-label>
				<ion-input [(ngModel)]="profile.nama" name="nama" type="text" #nama="ngModel" required>
				</ion-input>
			</ion-item>
			<p ion-text [hidden]="nama.valid || submitted == false" color="danger" padding-left>
				Nama lengkap is required
			</p>

			<ion-item>
				<ion-label stacked color="primary">Email</ion-label>
				<ion-input [(ngModel)]="profile.email" name="email" type="email" #email="ngModel" required>
				</ion-input>
			</ion-item>
			<p ion-text [hidden]="email.valid || submitted == false" color="danger" padding-left>
				Email is required
			</p>

			<ion-item>
				<ion-label stacked color="primary">Username</ion-label>
				<ion-input [(ngModel)]="profile.username" name="username" type="text" #username="ngModel" required>
				</ion-input>
			</ion-item>
			<p ion-text [hidden]="username.valid || submitted == false" color="danger" padding-left>
				Username is required
			</p>
			<ion-item>
				<ion-label stacked color="primary">Password</ion-label>
				<ion-input [(ngModel)]="profile.password" name="password" type="password" #password="ngModel" required>
				</ion-input>
			</ion-item>
			<p ion-text [hidden]="password.valid || submitted == false" color="danger" padding-left>
				Password is required
			</p>
		</ion-list>
	</form>
	<h5>Uploaded picture</h5>
	<img [src]="base64Image" *ngIf="base64Image" />
</ion-content>
